var ParallaxJS=function(){"use strict";var t=global.window,e=global.document,i=function(t){var i=this;this.os=t,this.container=null,this._bindContainer=function(){i.container=e.querySelector(i.os.container)}};return i.prototype={items:[],active:!0,tProp:t&&t.transformProp||function(){var t=e?e.createElement("div"):null;if(t&&null==t.style.transform){var i="Transform",n=!0,r=!1,o=void 0;try{for(var a,s=["Webkit","Moz","ms"][Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(void 0!==t.style[l+i])return l+i}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}return"transform"}(),remove:function(t,e){var i=!0,n=!1,r=void 0;try{for(var o,a=this.items[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){o.value.el===t&&this.items.splice(this.items.indexOf(t),1)}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}},add:function(e,i){if(t){var n=i.value,r=i.arg,o=e.currentStyle||t.getComputedStyle(e),a=i.modifiers;if("none"!==o.display){var s=a.absY?t.innerHeight:e.clientHeight||e.scrollHeight,l=this.os.className;"string"==typeof l&&(e.className=(e.className+" "+l).trim()),this.items.push({el:e,iOT:e.offsetTop+e.offsetParent.offsetTop-parseInt(o.marginTop),style:o,value:n,arg:r,mod:a,height:s,count:0})}}},update:function(){t&&this.items.forEach(function(e){var i=e.el,n=i.currentStyle||t.getComputedStyle(i);e.height=e.mod.absY?t.innerHeight:i.clientHeight||i.scrollHeight,null!==i.offsetParent&&(e.iOT=i.offsetTop+i.offsetParent.offsetTop-parseInt(n.marginTop))})},move:function(){var e=this;if(t&&this.active)if(t.innerWidth<this.os.minWidth)this.items.forEach(function(t){t.el.style[e.tProp]=""});else{var i=this.container?this.container.scrollTop:t.scrollY||t.pageYOffset,n=t.innerHeight;this.items.forEach(function(r){var o=r.height,a=-1*r.iOT*r.value,s=(i+n-o/2-n/2)*r.value+a;t.requestAnimationFrame(function(){var t="translate3d("+(r.mod.centerX?"-50%":"0px")+","+s.toFixed(3)+"px,0px)";r.el.style[e.tProp]=t})})}}},{install:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var r=new i(n);n.container?e.mixin({mounted:function(){this.$parent||(r._bindContainer(),r.container.addEventListener("scroll",function(){r.update(),r.move(r)},{passive:!0}))}}):t.addEventListener("scroll",function(){r.update(),r.move(r)},{passive:!0}),t.addEventListener("resize",function(){r.update(),r.move(r)},{passive:!0}),e.prototype.$parallaxjs=r,t.$parallaxjs=r,e.directive("parallax",{bind:function(t,e){},inserted:function(t,e){r.add(t,e),r.move(r)},unbind:function(t,e){r.remove(t,e)}})}}}}();
