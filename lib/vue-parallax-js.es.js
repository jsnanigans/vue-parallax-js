"undefined"==typeof window&&(global.window=null),"undefined"==typeof document&&(global.document=null);var ParallaxJS=function(e){this.os=e};ParallaxJS.prototype={items:[],active:!0,tProp:window&&window.transformProp||function(){var e=document?document.createElement("div"):null;if(e&&null==e.style.transform){var t="Transform",i=!0,n=!1,o=void 0;try{for(var a,r=["Webkit","Moz","ms"][Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var l=a.value;if(void 0!==e.style[l+t])return l+t}}catch(e){n=!0,o=e}finally{try{!i&&r.return&&r.return()}finally{if(n)throw o}}}return"transform"}(),add:function(e,t){if(window){var i=t.value,n=t.arg,o=e.currentStyle||window.getComputedStyle(e),a=t.modifiers;if("none"!==o.display){var r=a.absY?window.innerHeight:e.clientHeight||e.scrollHeight,l=this.os.className;"string"==typeof l&&(e.className=(e.className+" "+l).trim()),this.items.push({el:e,iOT:e.offsetTop+e.offsetParent.offsetTop-parseInt(o.marginTop),style:o,value:i,arg:n,mod:a,height:r,count:0})}}},update:function(){window&&this.items.forEach(function(e){var t=e.el,i=t.currentStyle||window.getComputedStyle(t);e.height=e.mod.absY?window.innerHeight:t.clientHeight||t.scrollHeight,e.iOT=t.offsetTop+t.offsetParent.offsetTop-parseInt(i.marginTop)})},move:function(){var e=this;if(window&&this.active)if(window.innerWidth<this.os.minWidth)this.items.forEach(function(t){t.el.style[e.tProp]=""});else{var t=window.scrollY||window.pageYOffset,i=window.innerHeight;this.items.forEach(function(n){var o=n.height,a=-1*n.iOT*n.value,r=(t+i-o/2-i/2)*n.value+a;window.requestAnimationFrame(function(){var t="translate3d("+(n.mod.centerX?"-50%":"0px")+","+r.toFixed(3)+"px,0px)";n.el.style[e.tProp]=t})})}}};var vueParallaxJs={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window){var i=new ParallaxJS(t);window.addEventListener("scroll",function(){i.move(i)},{passive:!0}),window.addEventListener("resize",function(){i.update(),i.move(i)},{passive:!0}),e.prototype.$parallaxjs=i,window.$parallaxjs=i,e.directive("parallax",{bind:function(e,t){},inserted:function(e,t){i.add(e,t),i.move(i)}})}}};export default vueParallaxJs;
